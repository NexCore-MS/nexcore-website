<!DOCTYPE html>
<html>
<head>
<title>Canvas Crate</title>
<style>
  body {
    margin: 20px;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 90vh;
    background-color: #f0f0f0;
  }
  canvas {
    border: 1px solid black;
    background-color: #ffffff;
  }
</style>
</head>
<body>
  <canvas id="myCrateCanvas"></canvas>

  <script>
    const canvas = document.getElementById('myCrateCanvas');
    const ctx = canvas.getContext('2d');

    // Set canvas dimensions
    canvas.width = 300; // Adjusted for a slightly smaller default display
    canvas.height = 250;

    // Crate properties
    const crateX = 50;
    const crateY = 50;
    const crateWidth = 200;
    const crateHeight = 150;
    const plankWidthRatio = 1/3; // Relative to crateWidth
    const plankHeightRatio = 1/5; // Relative to crateHeight for horizontal planks
    const woodColor = '#A0522D'; // Sienna - a common wood color
    const darkWoodColor = '#5C2E00'; // Darker brown for lines/shadows
    const nailColor = '#5A5A5A'; // Dark gray for nails
    const cornerBracketColor = '#404040'; // Dark gray for corner brackets

    // --- Helper function to draw a rounded rectangle ---
    function drawRoundedRect(x, y, width, height, radius, color, strokeColor, lineWidth = 0) {
      ctx.fillStyle = color;
      ctx.beginPath();
      ctx.moveTo(x + radius, y);
      ctx.lineTo(x + width - radius, y);
      ctx.quadraticCurveTo(x + width, y, x + width, y + radius);
      ctx.lineTo(x + width, y + height - radius);
      ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);
      ctx.lineTo(x + radius, y + height);
      ctx.quadraticCurveTo(x, y + height, x, y + height - radius);
      ctx.lineTo(x, y + radius);
      ctx.quadraticCurveTo(x, y, x + radius, y);
      ctx.closePath();
      ctx.fill();
      if (lineWidth > 0 && strokeColor) {
        ctx.strokeStyle = strokeColor;
        ctx.lineWidth = lineWidth;
        ctx.stroke();
      }
    }

    // --- Draw the Crate ---

    // Draw the main box of the crate (background)
    drawRoundedRect(crateX, crateY, crateWidth, crateHeight, 3, woodColor, darkWoodColor, 2);

    // Draw vertical planks (lines and subtle shading for depth)
    const actualPlankWidth = crateWidth * plankWidthRatio;
    for (let i = 0; i < 3; i++) {
        const xPos = crateX + i * actualPlankWidth;
        // Draw a slightly darker rectangle for each plank for a subtle 3D effect
        ctx.fillStyle = '#944B26'; // Slightly darker than woodColor
        ctx.fillRect(xPos, crateY, actualPlankWidth, crateHeight);
        // Outline the plank
        ctx.strokeStyle = darkWoodColor;
        ctx.lineWidth = 2;
        ctx.strokeRect(xPos, crateY, actualPlankWidth, crateHeight);
    }


    // Draw horizontal reinforcing planks (bands)
    const numHorizontalPlanks = 2; // Top and bottom bands
    const horizontalPlankHeight = crateHeight * plankHeightRatio;

    // Top horizontal band
    drawRoundedRect(crateX - 5, crateY + 10, crateWidth + 10, horizontalPlankHeight, 3, woodColor, darkWoodColor, 2);
    // Bottom horizontal band
    drawRoundedRect(crateX - 5, crateY + crateHeight - horizontalPlankHeight - 10, crateWidth + 10, horizontalPlankHeight, 3, woodColor, darkWoodColor, 2);


    // Add "X" markings on the front panel (center panel)
    ctx.strokeStyle = darkWoodColor;
    ctx.lineWidth = 4;
    const centerX = crateX + actualPlankWidth;
    const centerEndX = crateX + actualPlankWidth * 2;
    const padding = 15;

    ctx.beginPath();
    ctx.moveTo(centerX + padding, crateY + padding);
    ctx.lineTo(centerEndX - padding, crateY + crateHeight - padding);
    ctx.stroke();

    ctx.beginPath();
    ctx.moveTo(centerX + padding, crateY + crateHeight - padding);
    ctx.lineTo(centerEndX - padding, crateY + padding);
    ctx.stroke();

    // Add corner brackets (simple squares for now)
    const bracketSize = 15;
    ctx.fillStyle = cornerBracketColor;
    // Top-left
    ctx.fillRect(crateX, crateY, bracketSize, bracketSize);
    ctx.fillRect(crateX + crateWidth - bracketSize, crateY, bracketSize, bracketSize);
    // Bottom-left
    ctx.fillRect(crateX, crateY + crateHeight - bracketSize, bracketSize, bracketSize);
    ctx.fillRect(crateX + crateWidth - bracketSize, crateY + crateHeight - bracketSize, bracketSize, bracketSize);

    // Add some "nails" to the horizontal bands
    ctx.fillStyle = nailColor;
    const nailRadius = 2;
    function drawNail(x, y) {
        ctx.beginPath();
        ctx.arc(x, y, nailRadius, 0, Math.PI * 2);
        ctx.fill();
    }

    // Nails on top band
    drawNail(crateX + 10, crateY + 10 + horizontalPlankHeight / 2);
    drawNail(crateX + crateWidth / 2, crateY + 10 + horizontalPlankHeight / 2);
    drawNail(crateX + crateWidth - 10, crateY + 10 + horizontalPlankHeight / 2);

    // Nails on bottom band
    const bottomBandY = crateY + crateHeight - horizontalPlankHeight - 10 + horizontalPlankHeight / 2;
    drawNail(crateX + 10, bottomBandY);
    drawNail(crateX + crateWidth / 2, bottomBandY);
    drawNail(crateX + crateWidth - 10, bottomBandY);


    // Optional: Simple "Fragile" icon (stylized wine glass)
    const iconSize = 25;
    const iconX = crateX + crateWidth - iconSize - 15;
    const iconY = crateY + crateHeight - iconSize - 25; // Positioned lower right

    ctx.strokeStyle = '#A00000'; // Dark red
    ctx.lineWidth = 2;

    // Glass shape
    ctx.beginPath();
    ctx.moveTo(iconX + iconSize / 2, iconY); // Top point of glass bowl
    ctx.lineTo(iconX + iconSize, iconY + iconSize * 0.5); // Right edge of bowl
    ctx.quadraticCurveTo(iconX + iconSize * 0.9, iconY + iconSize * 0.8, iconX + iconSize * 0.5, iconY + iconSize * 0.8); // Bottom curve of bowl
    ctx.quadraticCurveTo(iconX + iconSize * 0.1, iconY + iconSize * 0.8, iconX, iconY + iconSize * 0.5); // Left edge of bowl
    ctx.closePath();
    ctx.stroke();

    // Stem
    ctx.beginPath();
    ctx.moveTo(iconX + iconSize * 0.5, iconY + iconSize * 0.8);
    ctx.lineTo(iconX + iconSize * 0.5, iconY + iconSize * 1.1); // Stem down
    ctx.stroke();

    // Base
    ctx.beginPath();
    ctx.moveTo(iconX + iconSize * 0.3, iconY + iconSize * 1.1);
    ctx.lineTo(iconX + iconSize * 0.7, iconY + iconSize * 1.1); // Base line
    ctx.stroke();

    console.log("Crate drawn on canvas!");
  </script>
</body>
</html>
